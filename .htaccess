RewriteEngine On

# Set index.html as directory index
DirectoryIndex index.html

# Redirect /index and /index.html to root directory
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+(.*)index(\.html)?\s [NC]
RewriteRule ^ /%1? [R=301,L]

# Remove .html extension from all files
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/+(.*)\.html[\s?] [NC]
RewriteRule ^ /%1? [R=301,L]

# Add .html extension internally when file exists
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]
